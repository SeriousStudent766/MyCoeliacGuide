{% extends 'navbar.html' %}
{% load static %}

{% block title %}{{ recipe.name }}{% endblock %}

{% block extra_css %}
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans:wght@400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/recipe_detail.css' %}">
{% endblock %}

{% block content %}
  <div class="page-wrapper">

    <div class="page-header">
      <h1 class="recipe-title">{{ recipe.name }}</h1>
      <a href="{% url 'recipes' %}" class="back-btn">‚Üê Back to All Recipes</a>
    </div>
    


    <!-- FOOD IMAGE -->
    
    <div class="hero">
      <img src="{{ recipe.image.url }}" class="hero-image" alt="{{ recipe.name }}">
    </div>

    <!-- 2/1 Grid: description+instructions | ingredients -->
    <div class="content-grid">
      <main class="main-col">
        {% if recipe.description %}
          <div class="section-card">
            <h2>Description</h2>
            <p class="recipe-description">{{ recipe.description }}</p>
          </div>
        {% endif %}

        <div class="section-card">
          <h2>Instructions</h2>
          {% if recipe.instructions %}
            <ol>
              {% for step in recipe.instructions.splitlines %}
                {% if step.strip %}<li>{{ step }}</li>{% endif %}
              {% endfor %}
            </ol>
          {% else %}
            <p><em>No instructions provided.</em></p>
          {% endif %}
        </div>
      </main>

      <aside class="sidebar">
        <div class="section-card">
          <h2>Ingredients</h2>
          {% if recipe.ingredients %}
            <ul>
              {% for item in recipe.ingredients.splitlines %}
                {% if item.strip %}<li>{{ item }}</li>{% endif %}
              {% endfor %}
            </ul>
          {% else %}
            <p><em>No ingredients listed.</em></p>
          {% endif %}
        </div>
      </aside>
    </div>
  </div>
{% endblock %}
